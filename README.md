「学校数と大学進学率の関係を可視化するアプリ」


--------------------------------------------------
■ アプリ概要・目的

本アプリは、都道府県ごとの「学校数（高等学校数・大学数）」と「大学進学率」の関係を可視化し、データから傾向や特徴を読み取ることを目的とした Streamlit アプリである。

散布図やランキング表示を用いることで、
・学校数が多い地域ほど進学率が高いのか
・例外的な都道府県は存在するのか
といった点を直感的に確認できるよう工夫した。


--------------------------------------------------
■ 使用したデータ

1. 高等学校数のデータ
統計表名：都道府県別学校数  
表番号：122
データ取得日：2026年1月31日  
各列の意味：
- 都道府県：学校が所在する都道府県名
- 学校数：当該都道府県に存在する高等学校の数（本校＋分校）
単位：
- 学校数：校
注意点：
- 本アプリでは、本校と分校を合算した値を使用している。
- Excel ファイルでは項目名が6行目に配置されていたため、pandas.read_excel() の header 引数を指定して読み込んだ。（データ1~3で共通）

2. 大学数のデータ
統計表名：都道府県別　学校数及び学生数
表番号：7
データ取得日：2026年1月31日  
各列の意味：
- 都道府県：学校が所在する都道府県名
- 学校数：当該都道府県に設置されている大学の数
単位：
- 学校数：校
注意点：
- 国立・公立・私立の区別はせず、都道府県内に設置されている大学数の合計を用いた。

3. 大学進学率のデータ
統計表名：卒業後の状況　都道府県別　状況別卒業者数 
表番号：ey-289
データ取得日：2026年1月31日  
各列の意味：
- 都道府県：卒業者が在籍していた都道府県
- 卒業者数：当該都道府県の高校卒業者数
- 大学進学者数：大学等へ進学した人数
単位：
- 人数：人
- 大学進学率：％
注意点：
- 国立・公立・私立高校ごとにシートが分かれており、全体では9枚のシートが存在する。
- 国立高校は設置されていない都道府県も多く、国立のみのデータはほとんどが 'None' 。
- そのため本アプリでは、国立・公立・私立高校（シート1～3）の卒業者数・大学進学者数を合算し、都道府県全体の大学進学率を算出した。
- pandas の DataFrame では列同士の四則演算が可能であるため、対応する列を加算することで全体の値を求めた。


--------------------------------------------------
■ 未使用UI部品

1. st.divider()
目的：画面を区切り、視認性を高める  
使用場所：概要・目的、使い方、グラフ前後の区切り

2. st.popover()
目的：使い方や補足情報を折りたたんで表示  
使用場所：アプリの使い方の説明

3. st.tabs()
目的：複数の可視化結果を整理して表示  
使用場所：「学校数と進学率の関係」と「進学率ランキング」の切り替え

4. st.caption()
目的：補足情報を簡潔に表示  
使用場所：学校数・大学数選択時の注意書き


--------------------------------------------------
■ 参考にしたアプリ

1. Stock Peer Analysis Dashboard
参考点：カラムを用いたレイアウト構成
反映内容：左側に条件選択、右側にグラフを配置する構成を採用

2. Abyssal Resources Main
参考点：コンテナごとの区切り方、st.divider() の使い方
反映内容：表示内容ごとに区切り線を設け、画面構成を整理


--------------------------------------------------
■ 生成AIの利用について

生成AIの使用：Yes

使用した場面：
- 変数名や処理構成を考える際の補助
- 複数データファイルを結合する際の考え方（merge）の理解
- 国立・公立・私立高校の進学率データを合算する処理方法の整理
- pandas の DataFrame における列同士の演算方法の確認
- エラー発生時の修正方法を考える際の補助


--------------------------------------------------
■ データ処理・実装上の工夫

・複数データを結合するため、都道府県名の列名を rename により統一した。
・pd.merge() を用い、学校数データと進学率データを結合した。
・ランキング表示では、大学進学率でソート後、index をリセットして順位列を新たに作成した。
・順位が直感的に分かるよう、1位・ワースト1位は色分け表示を行った。

--------------------------------------------------
■ 改善点
今回、条件設定エリアにはサイドバーを使用せず、画面をカラムで二分割するレイアウトを採用し、視認性の高い構成を目指した。また、タブ切り替えによって2種類のグラフを操作できる仕様とした。しかし、タブ1で選択した「学校の種類」がタブ2にも引き継がれる仕様となっているため、タブ2側で種類を変更したい場合には、いったんタブ1へ戻ってラジオボタンを再設定し、その後タブ2へ移動する必要がある。この点が操作性を損なう要因となっていると感じた。
そのため、サイドバーの活用や、タブ1・タブ2で共通して使用できる条件選択エリアを設けるなど、設定項目を一か所にまとめる仕組みの導入が必要だと考える。